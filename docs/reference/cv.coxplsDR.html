<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cross-validating a plsDR-Model — cv.coxplsDR • plsRcox</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Cross-validating a plsDR-Model — cv.coxplsDR" />

<meta property="og:description" content="This function cross-validates coxplsDR models.  
It only computes the recommended iAUCSurvROC criterion. Set allCVcrit=TRUE 
  to retrieve the 13 other ones." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">plsRcox</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.7.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/fbertran/plsRcox">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cross-validating a plsDR-Model</h1>
    
    <div class="hidden name"><code>cv.coxplsDR.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>This function cross-validates <a href='coxplsDR.html'>coxplsDR</a> models.<br /></p>  
<p>It only computes the recommended iAUCSurvROC criterion. Set <code>allCVcrit=TRUE</code> 
  to retrieve the 13 other ones.</p>
    
    </div>

    <pre class="usage"><span class='fu'>cv.coxplsDR</span>(<span class='no'>data</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"efron"</span>, <span class='st'>"breslow"</span>), <span class='kw'>nfold</span> <span class='kw'>=</span> <span class='fl'>5</span>, <span class='kw'>nt</span> <span class='kw'>=</span> <span class='fl'>10</span>, <span class='kw'>plot.it</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
<span class='kw'>se</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>givefold</span>, <span class='kw'>scaleX</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>folddetails</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>allCVcrit</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>details</span><span class='kw'>=</span><span class='fl'>FALSE</span>,
<span class='kw'>namedataset</span><span class='kw'>=</span><span class='st'>"data"</span>, <span class='kw'>save</span><span class='kw'>=</span><span class='fl'>FALSE</span>, <span class='kw'>verbose</span><span class='kw'>=</span><span class='fl'>TRUE</span>,<span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A list of three items:</p><ul>
<li><p><code>x</code> the explanatory variables passed to <code><a href='coxplsDR.html'>coxplsDR</a></code>'s <code>Xplan</code> argument,</p></li>
<li><p><code>time</code> passed to <code><a href='coxplsDR.html'>coxplsDR</a></code>'s <code>time</code> argument,</p></li>
<li><p><code>status</code> <code><a href='coxplsDR.html'>coxplsDR</a></code>'s <code>status</code> argument.</p></li>
</ul>
</td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>A character string specifying the method for tie handling. If there are no tied death times all the methods are equivalent. The Efron approximation is used as the default here, it is more accurate when dealing with tied death times, and is as efficient computationally.</p></td>
    </tr>
    <tr>
      <th>nfold</th>
      <td><p>The number of folds to use to perform the cross-validation process.</p></td>
    </tr>
    <tr>
      <th>nt</th>
      <td><p>The number of components to include in the model. It this is not supplied, 10 components are fitted.</p></td>
    </tr>
    <tr>
      <th>plot.it</th>
      <td><p>Shall the results be displayed on a plot ?</p></td>
    </tr>
    <tr>
      <th>se</th>
      <td><p>Should standard errors be plotted ?</p></td>
    </tr>
    <tr>
      <th>givefold</th>
      <td><p>Explicit list of omited values in each fold can be provided using this argument.</p></td>
    </tr>
    <tr>
      <th>scaleX</th>
      <td><p>Shall the predictors be standardized ?</p></td>
    </tr>
    <tr>
      <th>folddetails</th>
      <td><p>Should values and completion status for each folds be returned ?</p></td>
    </tr>
    <tr>
      <th>allCVcrit</th>
      <td><p>Should the other 13 CV criteria be evaled and returned ?</p></td>
    </tr>
    <tr>
      <th>details</th>
      <td><p>Should all results of the functions that perform error computations be returned ?</p></td>
    </tr>
    <tr>
      <th>namedataset</th>
      <td><p>Name to use to craft temporary results names</p></td>
    </tr>
    <tr>
      <th>save</th>
      <td><p>Should temporary results be saved ?</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Should some CV details be displayed ?</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>Other arguments to pass to <code><a href='coxplsDR.html'>coxplsDR</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    

<dt>nt</dt><dd><p>The number of components requested</p></dd>
<dt>cv.error1</dt><dd><p>Vector with the mean values, across folds, of, per fold unit, Cross-validated log-partial-likelihood for models with 0 to nt components.</p></dd>
<dt>cv.error2</dt><dd><p>Vector with the mean values, across folds, of, per fold unit, van Houwelingen Cross-validated log-partial-likelihood for models with 0 to nt components.</p></dd>
<dt>cv.error3</dt><dd><p>Vector with the mean values, across folds, of iAUC_CD for models with 0 to nt components.</p></dd>
<dt>cv.error4</dt><dd><p>Vector with the mean values, across folds, of iAUC_hc for models with 0 to nt components.</p></dd>
<dt>cv.error5</dt><dd><p>Vector with the mean values, across folds, of iAUC_sh for models with 0 to nt components.</p></dd>
<dt>cv.error6</dt><dd><p>Vector with the mean values, across folds, of iAUC_Uno for models with 0 to nt components.</p></dd>
<dt>cv.error7</dt><dd><p>Vector with the mean values, across folds, of iAUC_hz.train for models with 0 to nt components.</p></dd>
<dt>cv.error8</dt><dd><p>Vector with the mean values, across folds, of iAUC_hz.test for models with 0 to nt components.</p></dd>
<dt>cv.error9</dt><dd><p>Vector with the mean values, across folds, of iAUC_survivalROC.train for models with 0 to nt components.</p></dd>
<dt>cv.error10</dt><dd><p>Vector with the mean values, across folds, of iAUC_survivalROC.test for models with 0 to nt components.</p></dd>
<dt>cv.error11</dt><dd><p>Vector with the mean values, across folds, of iBrierScore unw for models with 0 to nt components.</p></dd>
<dt>cv.error12</dt><dd><p>Vector with the mean values, across folds, of iSchmidScore (robust BS) unw for models with 0 to nt components.</p></dd>
<dt>cv.error13</dt><dd><p>Vector with the mean values, across folds, of iBrierScore w for models with 0 to nt components.</p></dd>
<dt>cv.error14</dt><dd><p>Vector with the mean values, across folds, of iSchmidScore (robust BS) w for models with 0 to nt components.</p></dd>
<dt>cv.se1</dt><dd><p>Vector with the standard error values, across folds, of, per fold unit, Cross-validated log-partial-likelihood for models with 0 to nt components.</p></dd>
<dt>cv.se2</dt><dd><p>Vector with the standard error values, across folds, of, per fold unit, van Houwelingen Cross-validated log-partial-likelihood for models with 0 to nt components.</p></dd>
<dt>cv.se3</dt><dd><p>Vector with the standard error values, across folds, of iAUC_CD for models with 0 to nt components.</p></dd>
<dt>cv.se4</dt><dd><p>Vector with the standard error values, across folds, of iAUC_hc for models with 0 to nt components.</p></dd>
<dt>cv.se5</dt><dd><p>Vector with the standard error values, across folds, of iAUC_sh for models with 0 to nt components.</p></dd>
<dt>cv.se6</dt><dd><p>Vector with the standard error values, across folds, of iAUC_Uno for models with 0 to nt components.</p></dd>
<dt>cv.se7</dt><dd><p>Vector with the standard error values, across folds, of iAUC_hz.train for models with 0 to nt components.</p></dd>
<dt>cv.se8</dt><dd><p>Vector with the standard error values, across folds, of iAUC_hz.test for models with 0 to nt components.</p></dd>
<dt>cv.se9</dt><dd><p>Vector with the standard error values, across folds, of iAUC_survivalROC.train for models with 0 to nt components.</p></dd>
<dt>cv.se10</dt><dd><p>Vector with the standard error values, across folds, of iAUC_survivalROC.test for models with 0 to nt components.</p></dd>
<dt>cv.se11</dt><dd><p>Vector with the standard error values, across folds, of iBrierScore unw for models with 0 to nt components.</p></dd>
<dt>cv.se12</dt><dd><p>Vector with the standard error values, across folds, of iSchmidScore (robust BS) unw for models with 0 to nt components.</p></dd>
<dt>cv.se13</dt><dd><p>Vector with the standard error values, across folds, of iBrierScore w for models with 0 to nt components.</p></dd>
<dt>cv.se14</dt><dd><p>Vector with the standard error values, across folds, of iSchmidScore (robust BS) w for models with 0 to nt components.</p></dd>
<dt>folds</dt><dd><p>Explicit list of the values that were omited values in each fold.</p></dd>
<dt>lambda.min1</dt><dd><p>Vector with the standard error values, across folds, of, per fold unit, Cross-validated log-partial-likelihood for models with 0 to nt components.</p></dd>
<dt>lambda.min2</dt><dd><p>Vector with the standard error values, across folds, of, per fold unit, van Houwelingen Cross-validated log-partial-likelihood for models with 0 to nt components.</p></dd>
<dt>lambda.min1</dt><dd><p>Optimal Nbr of components, min Cross-validated log-partial-likelihood criterion.</p></dd>
<dt>lambda.se1</dt><dd><p>Optimal Nbr of components, min+1se Cross-validated log-partial-likelihood criterion.</p></dd>
<dt>lambda.min2</dt><dd><p>Optimal Nbr of components, min van Houwelingen Cross-validated log-partial-likelihood.</p></dd>
<dt>lambda.se2</dt><dd><p>Optimal Nbr of components, min+1se van Houwelingen Cross-validated log-partial-likelihood.</p></dd>
<dt>lambda.min3</dt><dd><p>Optimal Nbr of components, max iAUC_CD criterion.</p></dd>
<dt>lambda.se3</dt><dd><p>Optimal Nbr of components, max+1se iAUC_CD criterion.</p></dd>
<dt>lambda.min4</dt><dd><p>Optimal Nbr of components, max iAUC_hc criterion.</p></dd>
<dt>lambda.se4</dt><dd><p>Optimal Nbr of components, max+1se iAUC_hc criterion.</p></dd>
<dt>lambda.min5</dt><dd><p>Optimal Nbr of components, max iAUC_sh criterion.</p></dd>
<dt>lambda.se5</dt><dd><p>Optimal Nbr of components, max+1se iAUC_sh criterion.</p></dd>
<dt>lambda.min6</dt><dd><p>Optimal Nbr of components, max iAUC_Uno criterion.</p></dd>
<dt>lambda.se6</dt><dd><p>Optimal Nbr of components, max+1se iAUC_Uno criterion.</p></dd>
<dt>lambda.min7</dt><dd><p>Optimal Nbr of components, max iAUC_hz.train criterion.</p></dd>
<dt>lambda.se7</dt><dd><p>Optimal Nbr of components, max+1se iAUC_hz.train criterion.</p></dd>
<dt>lambda.min8</dt><dd><p>Optimal Nbr of components, max iAUC_hz.test criterion.</p></dd>
<dt>lambda.se8</dt><dd><p>Optimal Nbr of components, max+1se iAUC_hz.test criterion.</p></dd>
<dt>lambda.min9</dt><dd><p>Optimal Nbr of components, max iAUC_survivalROC.train criterion.</p></dd>
<dt>lambda.se9</dt><dd><p>Optimal Nbr of components, max+1se iAUC_survivalROC.train criterion.</p></dd>
<dt>lambda.min10</dt><dd><p>Optimal Nbr of components, max iAUC_survivalROC.test criterion.</p></dd>
<dt>lambda.se10</dt><dd><p>Optimal Nbr of components, max+1se iAUC_survivalROC.test criterion.</p></dd>
<dt>lambda.min11</dt><dd><p>Optimal Nbr of components, min iBrierScore unw criterion.</p></dd>
<dt>lambda.se11</dt><dd><p>Optimal Nbr of components, min+1se iBrierScore unw criterion.</p></dd>
<dt>lambda.min12</dt><dd><p>Optimal Nbr of components, min iSchmidScore unw criterion.</p></dd>
<dt>lambda.se12</dt><dd><p>Optimal Nbr of components, min+1se iSchmidScore unw criterion.</p></dd>
<dt>lambda.min13</dt><dd><p>Optimal Nbr of components, min iBrierScore w criterion.</p></dd>
<dt>lambda.se13</dt><dd><p>Optimal Nbr of components, min+1se iBrierScore w criterion.</p></dd>
<dt>lambda.min14</dt><dd><p>Optimal Nbr of components, min iSchmidScore w criterion.</p></dd>
<dt>lambda.se14</dt><dd><p>Optimal Nbr of components, min+1se iSchmidScore w criterion.</p></dd>
<dt>errormat1-14</dt><dd><p>If <code>details=TRUE</code>, matrices with the error values for every folds across each of the components and each of the criteria</p></dd>
<dt>completed.cv1-14</dt><dd><p>If <code>details=TRUE</code>, matrices with logical values for every folds across each of the components and each of the criteria: <code>TRUE</code> if the computation was completed and <code>FALSE</code> it is failed.</p></dd>
<dt>All_indics</dt><dd><p>All results of the functions that perform error computation, for each fold, each component and error criterion.</p></dd>

    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>plsRcox, Cox-Models in a high dimensional setting in R, Frederic Bertrand, Philippe Bastien, Nicolas Meyer and Myriam Maumy-Bertrand (2014). Proceedings of User2014!, Los Angeles, page 152.<br /></p>  
<p>Deviance residuals-based sparse PLS and sparse kernel PLS regression for censored data, Philippe Bastien, Frederic Bertrand, Nicolas Meyer and Myriam Maumy-Bertrand (2015), Bioinformatics, 31(3):397-404, doi:10.1093/bioinformatics/btu660.</p>
<p>Cross validating extensions of kernel, sparse or regular partial least squares regression models to censored data, Bertrand, F., Bastien, Ph. and Maumy-Bertrand, M. (2018), <a href='https://arxiv.org/abs/1810.01005'>https://arxiv.org/abs/1810.01005</a>.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>See Also <code><a href='coxplsDR.html'>coxplsDR</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>micro.censure</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>Xmicro.censure_compl_imp</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Random'>set.seed</a></span>(<span class='fl'>123456</span>)
<span class='no'>X_train_micro</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/apply'>apply</a></span>((<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/matrix'>as.matrix</a></span>(<span class='no'>Xmicro.censure_compl_imp</span>)),<span class='kw'>FUN</span><span class='kw'>=</span><span class='st'>"as.numeric"</span>,<span class='kw'>MARGIN</span><span class='kw'>=</span><span class='fl'>2</span>)[<span class='fl'>1</span>:<span class='fl'>80</span>,]
<span class='no'>X_train_micro_df</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(<span class='no'>X_train_micro</span>)
<span class='no'>Y_train_micro</span> <span class='kw'>&lt;-</span> <span class='no'>micro.censure</span>$<span class='no'>survyear</span>[<span class='fl'>1</span>:<span class='fl'>80</span>]
<span class='no'>C_train_micro</span> <span class='kw'>&lt;-</span> <span class='no'>micro.censure</span>$<span class='no'>DC</span>[<span class='fl'>1</span>:<span class='fl'>80</span>]

<span class='co'>#Should be run with a higher value of nt (at least 10)</span>
(<span class='no'>cv.coxplsDR.res</span><span class='kw'>=</span><span class='fu'>cv.coxplsDR</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>x</span><span class='kw'>=</span><span class='no'>X_train_micro</span>,<span class='kw'>time</span><span class='kw'>=</span><span class='no'>Y_train_micro</span>,<span class='kw'>status</span><span class='kw'>=</span><span class='no'>C_train_micro</span>),<span class='kw'>nt</span><span class='kw'>=</span><span class='fl'>3</span>))
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Frederic Bertrand<br />
<a href='mailto:frederic.bertrand@math.unistra.fr'>frederic.bertrand@math.unistra.fr</a><br />
<a href='http://www-irma.u-strasbg.fr/~fbertran/'>http://www-irma.u-strasbg.fr/~fbertran/</a></p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Frederic Bertrand, Myriam Maumy-Bertrand.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

