<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fitting a sPLSR model on the (Deviance) Residuals — coxsplsDR • plsRcox</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fitting a sPLSR model on the (Deviance) Residuals — coxsplsDR"><meta name="description" content="This function computes the Cox Model based on sPLSR components computed
model with
as the response: the Residuals of a Cox-Model
fitted with no covariate
as explanatory variables: Xplan.
It uses
the package spls to perform the first step in SPLSR then
mixOmics to perform PLSR step fit."><meta property="og:description" content="This function computes the Cox Model based on sPLSR components computed
model with
as the response: the Residuals of a Cox-Model
fitted with no covariate
as explanatory variables: Xplan.
It uses
the package spls to perform the first step in SPLSR then
mixOmics to perform PLSR step fit."><meta property="og:image" content="https://fbertran.github.io/plsRcox/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">plsRcox</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fbertran/plsRcox/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Fitting a sPLSR model on the (Deviance) Residuals</h1>
      <small class="dont-index">Source: <a href="https://github.com/fbertran/plsRcox/blob/HEAD/R/coxsplsDR.R" class="external-link"><code>R/coxsplsDR.R</code></a>, <a href="https://github.com/fbertran/plsRcox/blob/HEAD/R/coxsplsDR.default.R" class="external-link"><code>R/coxsplsDR.default.R</code></a>, <a href="https://github.com/fbertran/plsRcox/blob/HEAD/R/coxsplsDR.formula.R" class="external-link"><code>R/coxsplsDR.formula.R</code></a></small>
      <div class="d-none name"><code>coxsplsDR.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function computes the Cox Model based on sPLSR components computed
model with</p><ul><li><p>as the response: the Residuals of a Cox-Model
fitted with no covariate</p></li>
<li><p>as explanatory variables: Xplan.</p></li>
</ul><p>It uses
the package <code>spls</code> to perform the first step in SPLSR then
<code>mixOmics</code> to perform PLSR step fit.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">coxsplsDR</span><span class="op">(</span><span class="va">Xplan</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">coxsplsDR</span><span class="op">(</span></span>
<span>  <span class="va">Xplan</span>,</span>
<span>  <span class="va">time</span>,</span>
<span>  <span class="va">time2</span>,</span>
<span>  <span class="va">event</span>,</span>
<span>  <span class="va">type</span>,</span>
<span>  <span class="va">origin</span>,</span>
<span>  typeres <span class="op">=</span> <span class="st">"deviance"</span>,</span>
<span>  <span class="va">collapse</span>,</span>
<span>  <span class="va">weighted</span>,</span>
<span>  scaleX <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scaleY <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ncomp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">Xplan</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  modepls <span class="op">=</span> <span class="st">"regression"</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  allres <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  eta <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  trace <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'formula'</span></span>
<span><span class="fu">coxsplsDR</span><span class="op">(</span></span>
<span>  <span class="va">Xplan</span>,</span>
<span>  <span class="va">time</span>,</span>
<span>  <span class="va">time2</span>,</span>
<span>  <span class="va">event</span>,</span>
<span>  <span class="va">type</span>,</span>
<span>  <span class="va">origin</span>,</span>
<span>  typeres <span class="op">=</span> <span class="st">"deviance"</span>,</span>
<span>  <span class="va">collapse</span>,</span>
<span>  <span class="va">weighted</span>,</span>
<span>  scaleX <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scaleY <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ncomp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">ncol</a></span><span class="op">(</span><span class="va">Xplan</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  modepls <span class="op">=</span> <span class="st">"regression"</span>,</span>
<span>  plot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  allres <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dataXplan <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">subset</span>,</span>
<span>  <span class="va">weights</span>,</span>
<span>  model_frame <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  eta <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  trace <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  model_matrix <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  contrasts.arg <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-xplan">Xplan<a class="anchor" aria-label="anchor" href="#arg-xplan"></a></dt>
<dd><p>a formula or a matrix with the eXplanatory variables (training)
dataset</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments to be passed on to <code><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">survival::coxph</a></code>.</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>for right censored data, this is the follow up time. For
interval data, the first argument is the starting time for the interval.</p></dd>


<dt id="arg-time-">time2<a class="anchor" aria-label="anchor" href="#arg-time-"></a></dt>
<dd><p>The status indicator, normally 0=alive, 1=dead. Other choices
are <code>TRUE/FALSE</code> (<code>TRUE</code> = death) or 1/2 (2=death). For interval
censored data, the status indicator is 0=right censored, 1=event at
<code>time</code>, 2=left censored, 3=interval censored. Although unusual, the
event indicator can be omitted, in which case all subjects are assumed to
have an event.</p></dd>


<dt id="arg-event">event<a class="anchor" aria-label="anchor" href="#arg-event"></a></dt>
<dd><p>ending time of the interval for interval censored or counting
process data only. Intervals are assumed to be open on the left and closed
on the right, <code>(start, end]</code>. For counting process data, event
indicates whether an event occurred at the end of the interval.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>character string specifying the type of censoring. Possible
values are <code>"right"</code>, <code>"left"</code>, <code>"counting"</code>,
<code>"interval"</code>, or <code>"interval2"</code>. The default is <code>"right"</code> or
<code>"counting"</code> depending on whether the <code>time2</code> argument is absent
or present, respectively.</p></dd>


<dt id="arg-origin">origin<a class="anchor" aria-label="anchor" href="#arg-origin"></a></dt>
<dd><p>for counting process data, the hazard function origin. This
option was intended to be used in conjunction with a model containing time
dependent strata in order to align the subjects properly when they cross
over from one strata to another, but it has rarely proven useful.</p></dd>


<dt id="arg-typeres">typeres<a class="anchor" aria-label="anchor" href="#arg-typeres"></a></dt>
<dd><p>character string indicating the type of residual desired.
Possible values are <code>"martingale"</code>, <code>"deviance"</code>, <code>"score"</code>,
<code>"schoenfeld"</code>, <code>"dfbeta"</code>, <code>"dfbetas"</code>, and
<code>"scaledsch"</code>. Only enough of the string to determine a unique match is
required.</p></dd>


<dt id="arg-collapse">collapse<a class="anchor" aria-label="anchor" href="#arg-collapse"></a></dt>
<dd><p>vector indicating which rows to collapse (sum) over. In
time-dependent models more than one row data can pertain to a single
individual. If there were 4 individuals represented by 3, 1, 2 and 4 rows of
data respectively, then <code>collapse=c(1,1,1,2,3,3,4,4,4,4)</code> could be used
to obtain per subject rather than per observation residuals.</p></dd>


<dt id="arg-weighted">weighted<a class="anchor" aria-label="anchor" href="#arg-weighted"></a></dt>
<dd><p>if <code>TRUE</code> and the model was fit with case weights, then
the weighted residuals are returned.</p></dd>


<dt id="arg-scalex">scaleX<a class="anchor" aria-label="anchor" href="#arg-scalex"></a></dt>
<dd><p>Should the <code>Xplan</code> columns be standardized ?</p></dd>


<dt id="arg-scaley">scaleY<a class="anchor" aria-label="anchor" href="#arg-scaley"></a></dt>
<dd><p>Should the <code>time</code> values be standardized ?</p></dd>


<dt id="arg-ncomp">ncomp<a class="anchor" aria-label="anchor" href="#arg-ncomp"></a></dt>
<dd><p>The number of components to include in the model. The number of
components to fit is specified with the argument ncomp. It this is not
supplied, the maximal number of components is used.</p></dd>


<dt id="arg-modepls">modepls<a class="anchor" aria-label="anchor" href="#arg-modepls"></a></dt>
<dd><p>character string. What type of algorithm to use, (partially)
matching one of "regression", "canonical", "invariant" or "classic". See
<code><a href="https://rdrr.io/pkg/mixOmics/man/pls.html" class="external-link">pls</a></code> for details</p></dd>


<dt id="arg-plot">plot<a class="anchor" aria-label="anchor" href="#arg-plot"></a></dt>
<dd><p>Should the survival function be plotted ?)</p></dd>


<dt id="arg-allres">allres<a class="anchor" aria-label="anchor" href="#arg-allres"></a></dt>
<dd><p>FALSE to return only the Cox model and TRUE for additionnal
results. See details. Defaults to FALSE.</p></dd>


<dt id="arg-eta">eta<a class="anchor" aria-label="anchor" href="#arg-eta"></a></dt>
<dd><p>Thresholding parameter. <code>eta</code> should be between 0 and 1.</p></dd>


<dt id="arg-trace">trace<a class="anchor" aria-label="anchor" href="#arg-trace"></a></dt>
<dd><p>Print out the progress of variable selection?</p></dd>


<dt id="arg-dataxplan">dataXplan<a class="anchor" aria-label="anchor" href="#arg-dataxplan"></a></dt>
<dd><p>an optional data frame, list or environment (or object
coercible by <code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></code> to a data frame) containing the
variables in the model. If not found in <code>dataXplan</code>, the variables are
taken from <code>environment(Xplan)</code>, typically the environment from which
<code>coxsplsDR</code> is called.</p></dd>


<dt id="arg-subset">subset<a class="anchor" aria-label="anchor" href="#arg-subset"></a></dt>
<dd><p>an optional vector specifying a subset of observations to be
used in the fitting process.</p></dd>


<dt id="arg-weights">weights<a class="anchor" aria-label="anchor" href="#arg-weights"></a></dt>
<dd><p>an optional vector of 'prior weights' to be used in the
fitting process. Should be <code>NULL</code> or a numeric vector.</p></dd>


<dt id="arg-model-frame">model_frame<a class="anchor" aria-label="anchor" href="#arg-model-frame"></a></dt>
<dd><p>If <code>TRUE</code>, the model frame is returned.</p></dd>


<dt id="arg-model-matrix">model_matrix<a class="anchor" aria-label="anchor" href="#arg-model-matrix"></a></dt>
<dd><p>If <code>TRUE</code>, the model matrix is returned.</p></dd>


<dt id="arg-contrasts-arg">contrasts.arg<a class="anchor" aria-label="anchor" href="#arg-contrasts-arg"></a></dt>
<dd><p>a list, whose entries are values (numeric matrices,
functions or character strings naming functions) to be used as replacement
values for the contrasts replacement function and whose names are the names
of columns of data containing factors.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If <code>allres=FALSE</code> :</p>
<dl><dt>cox_splsDR</dt>
<dd><p>Final Cox-model.</p></dd>
</dl><p>If
<code>allres=TRUE</code> :</p>
<dl><dt>tt_splsDR</dt>
<dd><p>sPLSR components.</p></dd>

<dt>cox_splsDR</dt>
<dd><p>Final Cox-model.</p></dd>
 <dt>splsDR_mod</dt>
<dd><p>The sPLSR model.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>If <code>allres=FALSE</code> returns only the final Cox-model. If
<code>allres=TRUE</code> returns a list with the sPLS components, the final
Cox-model and the sPLSR model. <code>allres=TRUE</code> is useful for evluating
model prediction accuracy on a test sample.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>plsRcox, Cox-Models in a high dimensional setting in R, Frederic
Bertrand, Philippe Bastien, Nicolas Meyer and Myriam Maumy-Bertrand (2014).
Proceedings of User2014!, Los Angeles, page 152.<br></p>
<p>Deviance residuals-based sparse PLS and sparse kernel PLS regression for
censored data, Philippe Bastien, Frederic Bertrand, Nicolas Meyer and Myriam
Maumy-Bertrand (2015), Bioinformatics, 31(3):397-404,
doi:10.1093/bioinformatics/btu660.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/survival/man/coxph.html" class="external-link">coxph</a></code>, <code><a href="https://rdrr.io/pkg/pls/man/mvr.html" class="external-link">plsr</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Frédéric Bertrand<br><a href="mailto:frederic.bertrand@lecnam.net">frederic.bertrand@lecnam.net</a><br><a href="https://fbertran.github.io/homepage/" class="external-link">https://fbertran.github.io/homepage/</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">micro.censure</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Xmicro.censure_compl_imp</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">X_train_micro</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">Xmicro.censure_compl_imp</span><span class="op">)</span><span class="op">)</span>,FUN<span class="op">=</span><span class="st">"as.numeric"</span>,MARGIN<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">80</span>,<span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">X_train_micro_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">X_train_micro</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">Y_train_micro</span> <span class="op">&lt;-</span> <span class="va">micro.censure</span><span class="op">$</span><span class="va">survyear</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">80</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">C_train_micro</span> <span class="op">&lt;-</span> <span class="va">micro.censure</span><span class="op">$</span><span class="va">DC</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">80</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">cox_splsDR_fit</span><span class="op">=</span><span class="fu">coxsplsDR</span><span class="op">(</span><span class="va">X_train_micro</span>,<span class="va">Y_train_micro</span>,<span class="va">C_train_micro</span>,ncomp<span class="op">=</span><span class="fl">6</span>,eta<span class="op">=</span><span class="fl">.5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coxph(formula = YCsurv ~ ., data = tt_splsDR)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         coef exp(coef) se(coef)     z        p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.1 0.8093    2.2462   0.2029 3.989 6.63e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.2 0.9295    2.5333   0.2939 3.163  0.00156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.3 0.9968    2.7096   0.4190 2.379  0.01736</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.4 0.9705    2.6391   0.3793 2.558  0.01052</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.5 0.2162    1.2413   0.2811 0.769  0.44192</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.6 0.4380    1.5496   0.3608 1.214  0.22473</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Likelihood ratio test=55.06  on 6 df, p=4.51e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n= 80, number of events= 17 </span>
<span class="r-in"><span><span class="op">(</span><span class="va">cox_splsDR_fit2</span><span class="op">=</span><span class="fu">coxsplsDR</span><span class="op">(</span><span class="op">~</span><span class="va">X_train_micro</span>,<span class="va">Y_train_micro</span>,<span class="va">C_train_micro</span>,ncomp<span class="op">=</span><span class="fl">6</span>,eta<span class="op">=</span><span class="fl">.5</span>,trace<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The variables that join the set of selected variables at each step:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - 1th step (K=1):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X_train_microD20S107 X_train_microD5S346 X_train_microD1S225 X_train_microD3S1282 X_train_microD15S127 X_train_microD1S207 X_train_microD2S138 X_train_microD10S191 X_train_microD14S65 X_train_microD4S414</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X_train_microD16S408 X_train_microT X_train_microN X_train_microSTADE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - 2th step (K=2):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X_train_microD22S928 X_train_microD16S422 X_train_microD3S1283 X_train_microAgediag X_train_microM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - 3th step (K=3):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X_train_microD1S305 X_train_microD8S283 X_train_microD10S192 X_train_microsexe X_train_microSiege</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - 4th step (K=4):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X_train_microD17S794 X_train_microD13S173 X_train_microTP53 X_train_microD6S264 X_train_microD2S159 X_train_microD6S275</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - 5th step (K=5):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X_train_microD18S61 X_train_microD9S171 X_train_microD8S264 X_train_microD18S53 X_train_microD4S394 X_train_microD11S916</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - 6th step (K=6):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> X_train_microD17S790</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coxph(formula = YCsurv ~ ., data = tt_splsDR)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         coef exp(coef) se(coef)     z        p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.1 0.8093    2.2462   0.2029 3.989 6.63e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.2 0.9295    2.5333   0.2939 3.163  0.00156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.3 0.9968    2.7096   0.4190 2.379  0.01736</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.4 0.9705    2.6391   0.3793 2.558  0.01052</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.5 0.2162    1.2413   0.2811 0.769  0.44192</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.6 0.4380    1.5496   0.3608 1.214  0.22473</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Likelihood ratio test=55.06  on 6 df, p=4.51e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n= 80, number of events= 17 </span>
<span class="r-in"><span><span class="op">(</span><span class="va">cox_splsDR_fit3</span><span class="op">=</span><span class="fu">coxsplsDR</span><span class="op">(</span><span class="op">~</span><span class="va">.</span>,<span class="va">Y_train_micro</span>,<span class="va">C_train_micro</span>,ncomp<span class="op">=</span><span class="fl">6</span>,</span></span>
<span class="r-in"><span>dataXplan<span class="op">=</span><span class="va">X_train_micro_df</span>,eta<span class="op">=</span><span class="fl">.5</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> coxph(formula = YCsurv ~ ., data = tt_splsDR)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         coef exp(coef) se(coef)     z        p</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.1 0.8093    2.2462   0.2029 3.989 6.63e-05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.2 0.9295    2.5333   0.2939 3.163  0.00156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.3 0.9968    2.7096   0.4190 2.379  0.01736</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.4 0.9705    2.6391   0.3793 2.558  0.01052</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.5 0.2162    1.2413   0.2811 0.769  0.44192</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim.6 0.4380    1.5496   0.3608 1.214  0.22473</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Likelihood ratio test=55.06  on 6 df, p=4.51e-10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> n= 80, number of events= 17 </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span><span class="va">X_train_micro</span>,<span class="va">Y_train_micro</span>,<span class="va">C_train_micro</span>,<span class="va">cox_splsDR_fit</span>,<span class="va">cox_splsDR_fit2</span>,<span class="va">cox_splsDR_fit3</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Frederic Bertrand, Myriam Maumy-Bertrand.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

